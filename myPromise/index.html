<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-- <script src="./day2.js"></script> -->
<body>
    <script>
        function promiseAll(arr) {
            console.log(arr,'000')
            return new Promise((resolve, reject) => {
                if (!Array.isArray(arr)) {
                    return reject (new Error('请传入数组！'))
                }

                let count = 0, len = arr.length;
                const result = [];
                for (let i = 0; i < len; i++) {
                    Promise.resolve(arr[i]).then((value) => {
                        result[i] = value;
                        count++
                        if (count === len) {
                            resolve(result)
                        }
                    })
                }
            })
        }
        let p1 = new Promise((resolve, reject) => {
                // setTimeout(() => {
                    resolve('成功1')
                // }, 1000);
            })

        let promise = new Promise((resolve, reject) => {
                // setTimeout(() => {
                //    resolve('成功')
                // }, 2000)
                resolve('成功2')
                // reject('失败')
            })

        // promise.then(value => {
        //     console.log(value)
        //     // return 100
        //     return p1
        // }).then(value => {
        //     console.log(value)
        // })
        // let p2 = promise.then(function (value) {
        //     console.log(value)
        //     // 这样写会发生 Promise 对象的循环调用，会抛出错误
        //     return p2
        // })
        // p2.catch(err=>console.log(err))

    promiseAll(['q','3',p1, promise,'3']).then(value => console.log(value))

    </script>
</body>
<BUTTON value="的鼠标" onClick=alert("qqq")></BUTTON>
<INPUT TYPE='BUTTON' VALUE = '11' onClick=alert("111")>

</html>